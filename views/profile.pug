extends index

block append stylesheets
    link(rel='stylesheet' href='/css/profile_styles.css')

block append scripts
    script(type='module' src='/js/profile.js')

block content 
    if profile === 'self'
        .card
            .left
                if user.profilePhoto
                    img#profile-label(src=user.profilePhoto, alt='photo')
                else
                    img#profile-label(src='https://cdn-icons-png.flaticon.com/128/3135/3135715.png', alt="photo")
                .card-info
                    h2.fs-4= user.name
                    p  
                        a.fs-5(href='#') @#{user.username}
                    .contacts.d-flex.flex-column.justify-content-start.align-items-start
                        .mail.d-flex.justify-content-start.align-items-center.mb-3
                            i.ph-envelope.icon-3.me-3
                            p.fs-5 #{user.email} 
                        .mobile.d-flex.justify-content-start.align-items-center
                            i.ph-phone.icon-3.me-3
                            p.fs-5 #{user.mobile}
                .description 
                    p 
                        em.fs-5 #{user.description}
                
                hr
                .update
                    button.mb-4
                        a(href='/update') Update Profile
                        //- a(href='http://localhost:4000/update') Update Profile
            .right
                div
                    h3 #{postsCount}
                    p Posts
                div
                    h3 #{user.followingCount}
                    p Following
                div
                    h3 #{user.followingCount}
                    p Followers
    else 
        .card
            .left
                if user.profilePhoto
                    img#profile-label(src=user.profilePhoto, alt='photo')
                else
                    img#profile-label(src='https://cdn-icons-png.flaticon.com/128/3135/3135715.png', alt="photo")
                .card-info
                    h2.fs-4= user.name
                    p  
                        a.fs-5(href='#') @#{user.username}
                    .contacts.d-flex.flex-column.justify-content-start.align-items-start
                        .mail.d-flex.justify-content-start.align-items-center.mb-3
                            i.ph-envelope.icon-3.me-3
                            p.fs-5 #{user.email} 
                        .mobile.d-flex.justify-content-start.align-items-center
                            i.ph-phone.icon-3.me-3
                            p.fs-5 #{user.mobile}
                .description 
                    p 
                        em.fs-5 #{user.description}
                
                hr
                .update
                    if isFriend
                        button 
                            a(href=chatURL) Message
                    else 
                        if pending
                            button.disabled
                                a Follow
                        else 
                            button#followBtn
                                a Follow
            .right
                div
                    h3 #{postsCount}
                    p Posts
                div
                    h3 #{user.followingCount}
                    p Following
                div
                    h3 #{user.followingCount}
                    p Followers





